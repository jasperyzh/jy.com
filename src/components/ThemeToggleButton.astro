---
---

<button
  id="darkModeToggle"
  class="btn"
  aria-label="Toggle dark mode"
  style="filter: drop-shadow(3px 3px 12px rgba(252, 213, 63, 1));">ðŸŒ•</button>

<script is:inline>
  // This script handles only the button state and click events
  // Theme persistence is managed by the script in HeadCritical.astro
  
  document.addEventListener("DOMContentLoaded", function () {
    const darkModeToggle = document.getElementById("darkModeToggle");
    if (!darkModeToggle) return;
    
    // Get current theme
    const isDark = document.documentElement.classList.contains("theme-dark");
    darkModeToggle.textContent = isDark ? "ðŸŒ•" : "ðŸŒ‘";
    
    // Handle click events
    darkModeToggle.addEventListener("click", function () {
      const isDark = document.documentElement.classList.contains("theme-dark");
      // Toggle theme class
      document.documentElement.classList.toggle("theme-dark", !isDark);
      // Update button appearance
      darkModeToggle.textContent = !isDark ? "ðŸŒ•" : "ðŸŒ‘";
      
      // Update localStorage to persist theme
      localStorage.setItem("theme", !isDark ? "dark" : "light");
      
      // Bootstrap compatibility (if needed)
      document.documentElement.setAttribute("data-bs-theme", !isDark ? "dark" : "light");
    });
  });
</script>

<style is:global>
  * {
    transition:
      background-color 0.2s ease,
      color 0.2s ease;
  }
</style>