---
import Layout from "@/layouts/Layout.astro";
---

<Layout title="Video Synth Hydra">
  <script
    is:inline
    src="
https://cdn.jsdelivr.net/npm/hydra-synth@1.4.0/dist/hydra-synth.min.js
"
  ></script>
  <div class="container">
    <h2>Hydra</h2>
    <p>
      Set of tools for livecoding networked visuals. Inspired by analog modular
      synthesizers, these tools are an exploration into using streaming over the
      web for routing video sources and outputs in realtime.
    </p>
    <ul>
      <li>
        <a href="https://github.com/hydra-synth/hydra"
          >https://github.com/hydra-synth/hydra</a>
      </li>

      <li><a href="https://hydra.ojack.xyz/">https://hydra.ojack.xyz/</a></li>
      <li>
        <a href="https://hydra.ojack.xyz/?sketch_id=example_15"
          >https://hydra.ojack.xyz/?sketch_id=example_15</a>
      </li>
      <li>
        <a
          href="https://hydra.ojack.xyz/?code=JTJGJTJGJTIwbGljZW5zZWQlMjB3aXRoJTIwQ0MlMjBCWS1OQy1TQSUyMDQuMCUyMGh0dHBzJTNBJTJGJTJGY3JlYXRpdmVjb21tb25zLm9yZyUyRmxpY2Vuc2VzJTJGYnktbmMtc2ElMkY0LjAlMkYlMEElMkYlMkYlMjBieSUyME9saXZpYSUyMEphY2slMEElMkYlMkYlMjBodHRwcyUzQSUyRiUyRm9qYWNrLmdpdGh1Yi5pbyUwQSUwQW9zYyg0JTJDJTIwMC4wMDElMkMlMjAxLjQpJTBBJTA5LnJvdGF0ZSgwJTJDJTIwMC4wMDEpJTBBJTA5Lm11bHQob3NjKDMlMkMlMjAwLjEpLm1vZHVsYXRlKG9zYygxKS5yb3RhdGUoMSUyQyUyMC0wLjAwMSklMkMlMjAxLjAwMSkpJTBBJTA5LmNvbG9yKDIuODMlMkMwLjkxJTJDMC4zOSklMEElMjAlMjAub3V0KG8wKSUwQQ%3D%3D"
          >https://hydra.ojack.xyz/?code=JTJGJTJGJTIwbGljZW5zZWQlMjB3aXRoJTIwQ0MlMjBCWS1OQy1TQSUyMDQuMCUyMGh0dHBzJTNBJTJGJTJGY3JlYXRpdmVjb21tb25zLm9yZyUyRmxpY2Vuc2VzJTJGYnktbmMtc2ElMkY0LjAlMkYlMEElMkYlMkYlMjBieSUyME9saXZpYSUyMEphY2slMEElMkYlMkYlMjBodHRwcyUzQSUyRiUyRm9qYWNrLmdpdGh1Yi5pbyUwQSUwQW9zYyg0JTJDJTIwMC4wMDElMkMlMjAxLjQpJTBBJTA5LnJvdGF0ZSgwJTJDJTIwMC4wMDEpJTBBJTA5Lm11bHQob3NjKDMlMkMlMjAwLjEpLm1vZHVsYXRlKG9zYygxKS5yb3RhdGUoMSUyQyUyMC0wLjAwMSklMkMlMjAxLjAwMSkpJTBBJTA5LmNvbG9yKDIuODMlMkMwLjkxJTJDMC4zOSklMEElMjAlMjAub3V0KG8wKSUwQQ%3D%3D</a>
      </li>
    </ul>
  </div>
  <div class="container">
    <canvas id="synth"></canvas>
  </div>
</Layout>

<style>
  html {
    min-height: 100vh;
    height: 100%;
  }
  body {
    height: 100%;
  }
  #synth {
    max-width: 800px;
    width: 100%;
    height: auto;
    aspect-ratio: 3/4;
  }
</style>

<script is:inline>
  // Wait for DOM to be ready
  document.addEventListener("DOMContentLoaded", () => {
    // Initialize Hydra with the canvas element
    const hydra = new Hydra({
      canvas: document.getElementById("synth"),
      detectAudio: false,
    });

    //sketch 1

    // licensed with CC BY-NC-SA 4.0 https://creativecommons.org/licenses/by-nc-sa/4.0/
    // by Olivia Jack
    // https://ojack.github.io

    osc(100, 0.01, 1.4)
      .rotate(0, 0.1)
      .mult(osc(10, 0.1).modulate(osc(10).rotate(0, -0.1), 1))
      .color(2.83, 0.91, 0.39)
      .out(o0);

    //sketch 2 (commented out - uncomment to use instead of sketch 1)

    // osc(4, 0.001, 1.4)
    //   .rotate(0, 0.001)
    //   .mult(osc(3, 0.1).modulate(osc(1).rotate(1, -0.001), 1.001))
    //   .color(2.83, 0.91, 0.39)
    //   .out(o0);
  });
</script>
